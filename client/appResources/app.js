var app=angular.module("roast",["ngRoute"]);app.config(["$routeProvider","$locationProvider",function(e,t){e.when("/roast/:id",{templateUrl:"../views/roastPage.html",controller:"roastPageController"}).when("/",{templateUrl:"../views/roastTrending.html",controller:"roastTrendingController"}).when("/create",{templateUrl:"../views/roastCreate.html",controller:"roastCreateController"}).when("/roastList",{templateUrl:"../views/roastList.html",controller:"roastListController"}).when("/QandA/:id",{templateUrl:"../views/QandApage.html",controller:"QandApageController"}).when("/QandAlist",{templateUrl:"../views/QandAlist.html",controller:"QandAlistController"}).when("/replies/:id",{templateUrl:"../views/replyComments.html",controller:"replyCommentController"}).when("/repliesR/:id",{templateUrl:"../views/replyCommentsR.html",controller:"roastCommentController"}).when("/home",{templateUrl:"views/home.html",controller:"homeController"}).when("/aboutUs",{templateUrl:"views/aboutUs.html",controller:"aboutUsController"}).when("/404",{templateUrl:"views/404.html",controller:"errorController"}).when("/userInfo",{templateUrl:"/views/loadingUserData.html",controller:"loadingDataController"}).otherwise({redirectTo:"/404"}),t.html5Mode(!0)}]),app.controller("roastIndexController",["$scope","$http","$location","$interval","UserInfoProvider",function(e,t,o,n,i){e.goToCreate=function(){o.path("/create"),window.scrollTo(0,0),e.showToolBox()},e.goToTrending=function(){o.path("/"),window.scrollTo(0,0),e.showToolBox()},e.goToHome=function(){o.path("/home"),window.scrollTo(0,0),e.showToolBox(),e.commentsActive=!0,e.notifsActive=!1,e.settingsActive=!1},e.goToRoasts=function(){o.path("/roastList"),window.scrollTo(0,0),e.showToolBox()},e.goToQnAPage=function(){o.path("/QandAlist"),window.scrollTo(0,0),e.showToolBox()},e.goToAboutUs=function(){o.path("/aboutUs"),window.scrollTo(0,0),e.showToolBox()},e.toolBoxActive=!0,e.showToolBox=function(){e.toolBoxActive=!e.toolBoxActive},e.hideToolBox=function(){e.toolBoxActive=!0},me=this,me.coolWord="shizzlemnah",me.alert=function(e){window.alert(e)},e.modalOpen=!1,e.loginModal=function(){e.modalOpen=!e.modalOpen,window.scrollTo(0,0)},e.cancelModal=function(){e.modalOpen=!1},e.GoToGoogleLogin=function(){var e=document.forms.googleLogin;e.submit()},e.GoToFacebookLogin=function(){var e=document.forms.facebookLogin;e.submit()},e.commentsActive=!1,e.notifsActive=!1,e.settingsActive=!1,e.createdMember=!1,e.maiBaap=!1,e.notifObj={},e.memberData=function(){t.get("/memberData").success(function(o){if(0===o.length)e.createdMember===!1&&t.get("/memberInit").success(function(o){if(angular.isDefined(o.google)){var n="http://picasaweb.google.com/data/entry/api/user/"+o.google.id+"?alt=json";t.get(n).success(function(t){var o=t.entry.gphoto$thumbnail.$t;e.imgUrlBig=o.replace("64-c","100-c"),e.imgUrlSm=o.replace("64-c","40-c"),e.createMember()})}else angular.isDefined(o.facebook)&&(e.imgUrlBig="https://graph.facebook.com/"+o.facebook.id+"/picture?type=large",e.imgUrlSm="https://graph.facebook.com/"+o.facebook.id+"/picture?type=small",e.createMember())});else if('"NotLoggedIn"'===o)e.isLoggedin=!1,e.imgUserBig="/images/user.png";else{e.isLoggedin=!0,e.userName=o[0].name,e.email=o[0].email,e.imgUserBig=o[0].imgUrlLg,e.imgUserSmall=o[0].imgUrlXs,e.notifications=o[0].notifications,e.activity=o[0].comments;var i=e.notifications.length;e.count=0;for(var r=0;i>r;r++)"false"===e.notifications[r].read&&(e.count=e.count+1);e.countNull=0===e.count?!1:!0,n(e.getNotif,4e4),"indiaroasts@gmail.com"===e.email&&t.get("/allMemData").success(function(t){e.maiBaap=!0,e.allMemData=t,e.allMemDataLength=t.length})}}).error(function(){})},e.getNotif=function(){e.notifObj.email=e.email,t.post("/getNotif",e.notifObj).success(function(t){e.notifications=t[0].notifications;var o=e.notifications.length;e.count=0;for(var n=0;o>n;n++)"false"===e.notifications[n].read&&(e.count=e.count+1);e.countNull=0===e.count?!1:!0})},e.goToNotif=function(){o.path("/home"),window.scrollTo(0,0),e.notifsActive=!0,e.commentsActive=!1,e.settingsActive=!1},e.memberData(),e.createMember=function(){e.createMemObj={},e.createMemObj.imgUrlBig=e.imgUrlBig,e.createMemObj.imgUrlSm=e.imgUrlSm,t.post("/createMember",e.createMemObj).success(function(){e.createdMember=!0,e.memberData()}).error(function(){})},e.logout=function(){i.logout(),e.isLoggedin=!1,e.userName=null,e.imgUserBig="/images/user.png",e.imgUserSmall=null}}]),app.controller("QandApageController",["$scope","$http","$routeParams","$location","$interval","$sce",function(e,t,o,n,i,r){e.postBlockActive=!1,e.appreciated=!1,e.appriValue="Appreciate",e.postAreply=!1,e.appri={},e.comment={},e.newDataQ={},e.repliesQ={},e.voteObject={},e.hideTextArea=function(){e.postBlockActive=!1,e.postAreply=!1,e.comment.comment=null,e.editBox=!1,e.editBoxQ=!1,e.comment.anonymous=null,e.showtext=!1},e.showTextArea=function(){e.postBlockActive=!0,null===e.userName||""===e.userName||angular.isUndefined(e.userName)?(e.anony=!0,e.comment.anonymous="Y"):(e.comment.name=e.userName,e.repliesQ.name=e.userName,e.comment.email=e.email,e.repliesQ.email=e.email,e.repliesQ.imgUrl=e.imgUserSmall,e.comment.imgUrl=e.imgUserSmall,e.anony=!1)},e.goToRepliesQ=function(t){var o="/replies/"+e.questions.slug+t._id;n.path(o),window.scrollTo(0,0)},e.replyQ=function(t){e.postBlockActive=!0,e.postAreply=!0,e.repliesQ.id=t._id,e.repliesQ.name="Anonymous",e.repliesQ.comOwner=t.email,e.repliesQ.comContent=t.comment},e.editBox=!1,e.editBoxQ=!1,e.commentObj={},e.questionObj={},e.editQComment=function(t){t.email===e.email&&(e.editBox=!0,e.showTextArea(),e.comment.comment=t.comment,e.commentObj.id=t._id)},e.updateQcomment=function(){e.commentObj.comment=e.comment.comment;var n="/editQComment/"+o.id;t.post(n,e.commentObj).success(function(){e.hideTextArea(),e.fetchComments()}).error(function(){})},e.editQuestion=function(t){t.email===e.email&&(e.editBoxQ=!0,e.questionObj.slug=e.questions.slug,e.questionObj.id=e.questions._id,e.questionObj.debate=e.questions.debate)},e.editY=function(){e.showtext=!0},e.yChar=10,e.nChar=10,e.qEditchar=150,e.$watch("questions.yBtnValue",function(){angular.isDefined(e.questions.yBtnValue)&&(e.yChar=10-e.questions.yBtnValue.length,0===e.yChar&&(e.yChar=0))}),e.$watch("questions.nBtnValue",function(){angular.isDefined(e.questions.nBtnValue)&&(e.nChar=10-e.questions.nBtnValue.length,0===e.nChar&&(e.nChar=0))}),e.$watch("questions.question",function(){angular.isDefined(e.questions.question)&&(e.qEditchar=150-e.questions.question.length,0===e.qEditchar&&(e.qEditchar=0))}),e.updateQuestion=function(){e.questionObj.question=e.questions.question,e.questionObj.yBtnValue=e.questions.yBtnValue,e.questionObj.nBtnValue=e.questions.nBtnValue;var n="/editQuestion/"+o.id;t.post(n,e.questionObj).success(function(){e.hideTextArea(),e.getQuestion()}).error(function(){})},e.calcVote=function(){e.yesVotes=e.questions.yes,e.noVotes=e.questions.no,e.TotalVotes=e.yesVotes+e.noVotes;var t=e.yesVotes/e.TotalVotes*100,o=e.noVotes/e.TotalVotes*100;e.yRoundOff=Math.round(t),e.nRoundOff=Math.round(o)},e.showVoteBlock=!0;var a="/debateTitle/"+o.id;e.getQuestion=function(){t.get(a).success(function(t){e.questions=t[0],e.comment.question=e.questions.question,e.comment.qCreator=e.questions.email,"Y"===e.questions.debate?e.calcVote():e.showVoteBlock=!1}).error(function(){})},e.getQuestion(),e.goToCreateQ=function(){n.path("/create"),window.scrollTo(0,0)},e.vote=function(){e.voteObject.id=o.id,e.voteObject.email=e.email,e.voteObject.qCreator=e.questions.email,e.voteObject.question=e.questions.question,t.post("/vote",e.voteObject).success(function(){}).error(function(){})};var s=o.id;e.votedY=function(){e.voteObject.value="Y",e.showVotes=!0,window.localStorage[s]="true",e.yesVotes=e.questions.yes+1,e.calcVote(),e.vote()},e.votedN=function(){e.voteObject.value="N",e.showVotes=!0,window.localStorage[s]="true",e.noVotes=e.questions.no+1,e.calcVote(),e.vote()},"true"===window.localStorage[s]&&(e.showVotes=!0),e.comment.id=o.id,e.fetchComments=function(){var n="/debateComments/"+o.id;t.get(n).success(function(t){e.QandA=t,e.newDataQ.oldDate=t[0].createdOn,angular.forEach(e.QandA,function(e){for(var t="",o=0;o<e.comment.length;o++)t+=10==e.comment.charCodeAt(o)?"<br/>":e.comment.charAt(o);e.htmlSafeComment=r.trustAsHtml(t)})}).error(function(){})},e.fetchComments(),e.newCommentsQ=function(){e.newDataQ.id=o.id,t.post("/newQcomments",e.newDataQ).success(function(t){0!==t.length&&(e.newDataQ.oldDate=t[0].createdOn),angular.forEach(t.slice().reverse(),function(t){e.QandA.push(t);for(var o="",n=0;n<t.comment.length;n++)o+=10==t.comment.charCodeAt(n)?"<br/>":t.comment.charAt(n);t.htmlSafeComment=r.trustAsHtml(o)})}).error(function(){})},e.stopPromise=i(e.newCommentsQ,3e4),e.$on("$routeChangeStart",function(){i.cancel(e.stopPromise)}),e.qCommentChar=2e3,e.$watch("comment.comment",function(){angular.isDefined(e.comment.comment)&&(e.qCommentChar=2e3-e.comment.comment.length,0===e.qCommentChar&&(e.qCommentChar=0))});var l=null;e.post=function(){if(l=null===e.comment.comment||""===e.comment.comment||angular.isUndefined(e.comment.comment)?!1:!0,l===!0)if(e.btnDisable=!0,e.postAreply===!1)t.post("/debateComment",e.comment).success(function(t){'"failure"'===t?window.alert("Bakchodi Nahi"):(e.fetchComments(),e.hideTextArea(),e.comment.comment=null,e.btnDisable=!1)}).error(function(e){'"failure"'===e&&window.alert("Bakchodi Nahi")});else{e.repliesQ.anonymous=e.comment.anonymous,e.repliesQ.comment=e.comment.comment;var i="/debateReply/"+o.id;t.post(i,e.repliesQ).success(function(t){'"failure"'===t?window.alert("Bakchodi Nahi"):(window.scrollTo(0,0),n.path("/replies/"+o.id+e.repliesQ.id))}).error(function(e){'"failure"'===e&&window.alert("Bakchodi Nahi")})}}}]),app.controller("roastPageController",["$scope","$http","$location","$routeParams","$interval",function(e,t,o,n,i){var r="/roastTitle/"+n.id;t.get(r).success(function(t){e.roastTitle=t[0]}).error(function(){}),e.roast={},e.newDataR={},e.repliesR={},e.postBlockActive=!1,e.appreciated=!1,e.postR=!1,e.appriValue="Appreciate",e.hideTextArea=function(){e.postBlockActive=!1,e.rComment.comment=null,e.postR=!1,e.rComment.anonymous=null},e.showTextArea=function(){e.postBlockActive=!0,null===e.userName||""===e.userName||angular.isUndefined(e.userName)?(e.anony=!0,e.rComment.anonymous="Y"):(e.rComment.name=e.userName,e.repliesR.name=e.userName,e.rComment.email=e.email,e.repliesR.email=e.email,e.repliesR.imgUrl=e.imgUserSmall,e.rComment.imgUrl=e.imgUserSmall,e.anony=!1)},e.goToRepliesR=function(t){var n="/repliesR/"+e.roastTitle.slug+t._id;o.path(n),window.scrollTo(0,0)},e.replyR=function(t){e.postBlockActive=!0,e.postR=!0,e.repliesR.id=t._id,e.repliesR.name="Anonymous"},e.editBox=!1,e.roastObj={},e.editRComment=function(t){e.editBox=!0,e.showTextArea(),e.rComment.comment=t.comment,e.roastObj.id=t._id},e.btnDisable=!1,e.updateRcomment=function(){e.btnDisable=!0,e.roastObj.comment=e.rComment.comment;var o="/editRComment/"+n.id;t.post(o,e.roastObj).success(function(){e.hideTextArea(),e.fetchRComments(),e.btnDisable=!1}).error(function(){})};var a="/roastComments/"+n.id;e.fetchRComments=function(){t.get(a).success(function(t){e.roasts=t,e.newDataR.oldDate=t[0].createdOn}).error(function(){})},e.fetchRComments();var s=function(){e.newDataR.id=n.id,t.post("/newRcomments",e.newDataR).success(function(t){0!==t.length&&(e.newDataR.oldDate=t[0].createdOn),angular.forEach(t,function(t){e.roasts.push(t)})}).error(function(){})};e.stopPromise=i(s,3e4),e.$on("$routeChangeStart",function(){i.cancel(e.stopPromise)}),e.rComment={},null===e.userName||""===e.userName||angular.isUndefined(e.userName)?(e.rComment.name="Anonymous",e.rComment.imgUrl="../images/user.png"):(e.rComment.name=e.userName,e.repliesR.imgUrl=e.imgUserSmall,e.rComment.imgUrl=e.imgUserSmall),e.rComment.id=n.id,e.rCommentChar=2e3,e.$watch("rComment.comment",function(){angular.isDefined(e.rComment.comment)&&(e.rCommentChar=2e3-e.rComment.comment.length,0===e.rCommentChar&&(e.rCommentChar=0))});var l=null;e.postRComment=function(){if(l=null===e.rComment.comment||""===e.rComment.comment||angular.isUndefined(e.rComment.comment)?!1:!0,l===!0)if(e.btnDisable=!0,e.postR===!1)t.post("/roastComment",e.rComment).success(function(t){'"failure"'===t?window.alert("Bakchodi Nahi"):(s(),e.hideTextArea(),e.rComment.comment=null,e.btnDisable=!1)}).error(function(e){'"failure"'===e&&window.alert("Bakchodi Nahi")});else{e.repliesR.comment=e.rComment.comment,e.repliesR.anonymous=e.rComment.anonymous;var i="/roastReply/"+n.id;t.post(i,e.repliesR).success(function(t){'"failure"'===t?window.alert("Bakchodi Nahi"):(window.scrollTo(0,0),o.path("/repliesR/"+n.id+e.repliesR.id))}).error(function(e){'"failure"'===e&&window.alert("Bakchodi Nahi")})}}}]),app.controller("roastTrendingController",["$scope","$location","$http","$routeParams",function(e,t,o){o.get("/trendingDebates").success(function(t){e.questions=t}).error(function(){}),o.get("/trendingRoasts").success(function(t){e.trending=t}).error(function(){}),e.goToRoast=function(e){window.scrollTo(0,0);var o="/roast/"+e.slug;t.path(o)},e.goToDebate=function(e){window.scrollTo(0,0);var o="/QandA/"+e.slug;t.path(o)}}]),app.controller("roastCreateController",["$scope","$http","$location","$routeParams",function(e,t,o){e.roast={},e.debate={},e.debate.yes=1,e.debate.no=1,e.debate.createdOn=new Date,e.nameChar=50,e.descChar=150,e.qDescChar=300,e.qChar1=150,e.qChar2=150,e.btnDisable1=!1,e.btnDisable2=!1,e.$watch("roast.name",function(){angular.isDefined(e.roast.name)&&(e.nameChar=50-e.roast.name.length,0===e.nameChar&&(e.nameChar=0))}),e.$watch("roast.quote",function(){angular.isDefined(e.roast.quote)&&(e.descChar=150-e.roast.quote.length,0===e.descChar&&(e.descChar=0))}),e.$watch("debate.question1",function(){angular.isDefined(e.debate.question1)&&(e.qChar1=150-e.debate.question1.length,0===e.qChar1&&(e.qChar1=0))}),e.$watch("debate.description",function(){angular.isDefined(e.debate.description)&&(e.qDescChar=300-e.debate.description.length,0===e.qDescChar&&(e.qDescChar=0))}),e.$watch("debate.question2",function(){angular.isDefined(e.debate.question2)&&(e.qChar2=150-e.debate.question2.length,0===e.qChar2&&(e.qChar2=0))}),e.yChar=10,e.nChar=10,e.$watch("debate.yBtnValue",function(){angular.isDefined(e.debate.yBtnValue)&&(e.yChar=10-e.debate.yBtnValue.length,0===e.yChar&&(e.yChar=0))}),e.$watch("debate.nBtnValue",function(){angular.isDefined(e.debate.nBtnValue)&&(e.nChar=10-e.debate.nBtnValue.length,0===e.nChar&&(e.nChar=0))}),e.showtext=!1,e.debate.yBtnValue="Yes",e.debate.nBtnValue="No",e.editY=function(){e.showtext=!0},e.doneBtn=function(){e.showtext=!1},e.single=function(o){var n=new FormData;n.append("image",o,o.name),t.post("upload",n,{headers:{"Content-Type":!1},transformRequest:angular.identity}).success(function(t){e.uploadedImgSrc=t.src,e.sizeInBytes=t.size})};var n=null;e.postRoast=function(){n=null===e.roast.name||""===e.roast.name||angular.isUndefined(e.roast.name)?!1:null===e.roast.quote||""===e.roast.quote||angular.isUndefined(e.roast.quote)?!1:!0,n===!0&&(e.roast.email=e.email,e.btnDisable=!0,e.waiting=!0,t.post("/createRoast",e.roast).success(function(t){e.waiting=!1;var n="/roast/"+t.slug;o.path(n),window.scrollTo(0,0)}).error(function(){e.waiting=!1}))};e.duplicateQ=!1,e.postQuestion=function(){e.debate.email=e.email,e.debate.name=e.userName,e.btnDisable=!0,e.waiting=!0,t.post("/createDebate",e.debate).success(function(t){if(e.waiting=!1,angular.isDefined(t[0])){var n="/QandA/"+t[0].slug;o.path(n),window.scrollTo(0,0)}else{var n="/QandA/"+t.slug;o.path(n),window.scrollTo(0,0)}}).error(function(){e.waiting=!1})},e.showError1=!1,e.showError2=!1,e.postQuestion1=function(){e.debate.question=e.debate.question1,null===e.debate.question||""===e.debate.question||angular.isUndefined(e.debate.question)?e.showError1=!0:e.postQuestion()},e.removeErr=function(){e.showError1=!1,e.showError2=!1},e.postQuestion2=function(){e.debate.question=e.debate.question2,e.debate.debate="Y",null===e.debate.question||""===e.debate.question||angular.isUndefined(e.debate.question)?e.showError2=!0:e.postQuestion()}}]),app.controller("roastListController",["$scope","$http","$location","$routeParams",function(e,t,o){t.get("/allRoasts").success(function(t){e.roastList=t}).error(function(){}),e.goToRoast=function(e){window.scrollTo(0,0);var t="/roast/"+e.slug;o.path(t)}}]),app.controller("QandAlistController",["$scope","$http","$routeParams","$location",function(e,t,o,n){t.get("/allDebates").success(function(t){e.questions=t}).error(function(){}),e.recentActv=!0,e.popularActv=!1,e.recentDiv=function(){e.recentActv=!0,e.popularActv=!1},e.popularDiv=function(){e.recentActv=!1,e.popularActv=!0},e.goToDebate=function(e){window.scrollTo(0,0);var t="/QandA/"+e.slug;n.path(t)}}]),app.controller("replyCommentController",["$scope","$http","$routeParams","$location","$interval",function(e,t,o,n,i){e.comment={},e.repliesQ={},e.editBox=!1,e.editBoxQ=!1,e.commentObj={},e.questionObj={},e.editQComment=function(t){t.email===e.email&&(e.editBox=!0,e.showTextArea(),e.repliesQ.comment=t.comment,e.commentObj.id=t._id,e.commentObj.replyCom="N")},e.editQReply=function(t){t.email===e.email&&(e.editBox=!0,e.showTextArea(),e.repliesQ.comment=t.comment,e.commentObj.id=t._id,e.commentObj.replyCom="Y")},e.updateQcomment=function(){e.commentObj.replyPage="Y",e.commentObj.comment=e.repliesQ.comment;var n="/editQComment/"+o.id;t.post(n,e.commentObj).success(function(){e.hideTextArea(),e.fetchRepliesQ()}).error(function(){})},e.postBlockActive=!1,e.appreciated=!1,e.appriValue="Appreciate",e.hideTextArea=function(){e.postBlockActive=!1,e.repliesQ.comment=null,e.repliesQ.anonymous=null,e.editBox=!1},e.showTextArea=function(){e.postBlockActive=!0,null===e.userName||""===e.userName||angular.isUndefined(e.userName)?(e.repliesQ.name="Anonymous",e.anony=!0,e.repliesQ.anonymous="Y"):(e.repliesQ.name=e.userName,e.repliesQ.email=e.email,e.repliesQ.imgUrl=e.imgUserSmall,e.anony=!1)},e.comment.id=o.id,e.fetchRepliesQ=function(){var n="/debateReplies/"+o.id;t.get(n).success(function(t){e.replyContent=t,e.repliesGot=t[0].replies,e.repliesQ.comContent=t[0].comment,e.repliesQ.comOwner=t[0].email}).error(function(){})},e.fetchRepliesQ(),e.repliesQ.name="Anonymous",e.btnDisable=!1,e.postReplyQ=function(){e.btnDisable=!0,e.repliesQ.id="replyPage";var n="/debateReply/"+o.id;t.post(n,e.repliesQ).success(function(t){'"failure"'===t?window.alert("Bakchodi Nahi"):(e.btnDisable=!1,e.hideTextArea(),e.fetchRepliesQ())}).error(function(e){'"failure"'===e&&window.alert("Bakchodi Nahi")})},e.stopPromise=i(e.fetchRepliesQ,3e4),e.$on("$routeChangeStart",function(){i.cancel(e.stopPromise)})}]),app.controller("roastCommentController",["$scope","$http","$routeParams","$location","$interval",function(e,t,o,n,i){e.repliesR={},e.postBlockActive=!1,e.appreciated=!1,e.appriValue="Appreciate",e.hideTextArea=function(){e.postBlockActive=!1,e.repliesR.comment=null,e.repliesR.anonymous=null},e.showTextArea=function(){e.postBlockActive=!0,null===e.userName||""===e.userName||angular.isUndefined(e.userName)?(e.repliesR.name="Anonymous",e.anony=!0,e.repliesR.anonymous="Y"):(e.repliesR.name=e.userName,e.repliesR.email=e.email,e.repliesR.imgUrl=e.imgUserSmall,e.anony=!1)},e.fetchRepliesR=function(){var n="/roastReplies/"+o.id;t.get(n).success(function(t){e.replyContent=t,e.repliesGot=t[0].replies}).error(function(){})},e.fetchRepliesR(),e.repliesR.name="Anonymous",e.btnDisable=!1,e.postReplyR=function(){e.btnDisable=!0,e.repliesR.id="replyPage";var n="/roastReply/"+o.id;t.post(n,e.repliesR).success(function(t){'"failure"'===t?window.alert("Bakchodi Nahi"):(e.btnDisable=!1,e.hideTextArea(),e.fetchRepliesR())}).error(function(e){'"failure"'===e&&window.alert("Bakchodi Nahi")})},e.stopPromise=i(e.fetchRepliesQ,3e4),e.$on("$routeChangeStart",function(){i.cancel(e.stopPromise)})}]),app.controller("homeController",["$scope","$location","$http",function(e,t,o){e.memberData(),e.notifRead=function(n){window.scrollTo(0,0),"false"===n.read&&o.post("/notifRead",n).success(function(){e.memberData()}),t.path(n.location)},e.goToQ=function(e){var o="/QandA/"+e.collectionID;window.scrollTo(0,0),t.path(o)},e.goToCom=function(e){if(null===e.commentID){var o="/QandA/"+e.collectionID;window.scrollTo(0,0),t.path(o)}else{var n="/replies/"+e.collectionID+e.commentID;window.scrollTo(0,0),t.path(n)}},e.settingsActive===!1&&e.notifsActive===!1&&(e.commentsActive=!0),e.notifsDiv=function(){e.commentsActive=!1,e.notifsActive=!0,e.settingsActive=!1},e.commentsDiv=function(){e.commentsActive=!0,e.notifsActive=!1,e.settingsActive=!1},e.settingsDiv=function(){e.commentsActive=!1,e.notifsActive=!1,e.settingsActive=!0}}]),app.controller("aboutUsController",["$scope",function(){}]),app.controller("errorController",["$scope",function(){}]),app.controller("loadingDataController",["$scope","$location","$http","UserInfoProvider",function(e,t,o,n){o.get("/user/me").success(function(e){n.setData(e.google),t.path("/"),window.scrollTo(0,0)}).error(function(){})}]),app.directive("myMaxlength",function(){return{require:"ngModel",link:function(e,t,o,n){function i(e){if(e.length>r){var t=e.substring(0,r);return n.$setViewValue(t),n.$render(),t}return e}var r=Number(o.myMaxlength);n.$parsers.push(i)}}}),app.factory("socialLinker",["$window","$location",function(e,t){return function(o){return function(n,i,r){var a,s,l;return l="status=no, width="+(n.socialWidth||640)+", height="+(n.socialWidth||480)+", resizable=yes, toolbar=no, menubar=no, scrollbars=no, location=no, directories=no",a=function(){return r.customUrl||t.absUrl()},r.$observe("customUrl",function(){var e;return e=o(n,a()),"A"!==i[0].nodeName||null!=r.href&&""!==r.href?void 0:i.attr("href",e)}),i.attr("rel","nofollow"),s=function(t){var i,r;return t.preventDefault(),i=o(n,a()),r=e.open(i,"popupwindow",l).focus()},null!=r.customHandler?i.on("click",s=function(e){var t;return t=o(n,a()),i.attr("href",t),n.handler({$event:e,$url:t})}):i.on("click",s),n.$on("$destroy",function(){return i.off("click",s)})}}}]),app.directive("socialFacebook",["socialLinker",function(e){return{restrict:"ACEM",scope:{handler:"&customHandler"},link:e(function(e,t){var o;return o=["https://facebook.com/sharer.php?"],o.push("u="+encodeURIComponent(t)),o.join("")})}}]).directive("socialTwitter",["socialLinker",function(e){return{restrict:"ACEM",scope:angular.extend({status:"@status"},{handler:"&customHandler"}),link:e(function(e,t){return e.status||(e.status="India Roasts, an Online Debate and celeb Roasting! - "+t),"https://twitter.com/intent/tweet?text="+encodeURIComponent(e.status)})}}]).directive("socialGplus",["socialLinker",function(e){return{restrict:"ACEM",scope:{handler:"&customHandler"},link:e(function(e,t){return"https://plus.google.com/share?url="+encodeURIComponent(t)})}}]),app.service("UserInfoProvider",function(e){this.data=null;var t=this;this.setData=function(e){t.data=e},this.getUserName=function(){return t.data.name},this.getUserEmail=function(){return t.data.email},this.logout=function(){e.post("/logout"),t.data=null}});
